<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>XD Store - A n√∫mero 1 de Minecraft</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="assets/icons/xd.png">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/theme.css">
</head>
<body>
  <div class="announcement" role="region" aria-live="polite">
    <div class="announcement-inner">
      <div class="led-screen" aria-hidden="false">
        <div class="marquee" aria-hidden="false">
          <span>‚ö° Promo√ß√µes ativas ‚Ä¢ Entrega digital imediata ‚Ä¢ Suporte via Discord</span>
          <span aria-hidden="true">‚ö° Promo√ß√µes ativas ‚Ä¢ Entrega digital imediata ‚Ä¢ Suporte via Discord</span>
        </div>
      </div>
    </div>
  </div>

  <header class="site-header">
    <div class="header-container">
      <h1 class="store-name">XD STORE <small class="store-sub">(TOP 1)</small></h1>
      <div class="header-actions">
        <button id="theme-toggle" class="support-button" aria-label="Alternar tema">üåì</button>
        <a href="pages/sobre.html" class="product-button cta-secondary" style="text-decoration:none;margin-right:8px;">Sobre</a>
        <a href="pages/parceiros.html" class="product-button cta-secondary" style="text-decoration:none;margin-right:8px;">Parceiros</a>
        <a href="pages/FAQ.html" class="product-button cta-secondary" style="text-decoration:none;margin-right:8px;">FAQ</a>
        <a href="pages/Blog.html" class="product-button cta-secondary" style="text-decoration:none;margin-right:8px;">Novidades</a>
        <button id="open-cart" class="cart-button" aria-label="Abrir carrinho">
          Carrinho (<span class="cart-count">0</span>)
        </button>
      </div>
    </div>
  </header>

  <main class="site-main">

    <section class="welcome-panel">
      <div class="welcome-inner">
        <div class="welcome-visual">
          <img src="assets/icons/XD2.png" alt="Bloco de Grama" width="120" height="120">
        </div>

        <div class="welcome-content">
          <div class="welcome-header">
            <h2 class="welcome-title">Bem-vindo √† <span class="highlight">XD STORE</span></h2>
            <div class="welcome-badge">‚ö° Entrega digital imediata</div>
          </div>

          <p class="welcome-lead">Itens digitais para sua divers√£o no servidor ‚Äî <strong>entrega 100% digital e imediata</strong> ap√≥s confirma√ß√£o de pagamento.</p>

          <p class="welcome-body">Aqui voc√™ encontra <strong>kits, conte√∫dos e utilit√°rios exclusivos</strong>. Produtos digitais s√£o entregues via Discord de forma r√°pida e segura. Se tiver d√∫vidas, abra um ticket no nosso servidor ‚Äî nosso time responde r√°pido.</p>

          <ul class="welcome-features" aria-hidden="false">
            <li>‚úÖ Entrega via Discord em minutos</li>
            <li>üíé Itens exclusivos e atualizados</li>
            <li>üõ°Ô∏è Suporte confi√°vel para resgate</li>
          </ul>

          <div class="welcome-ctas">
            <button id="view-promos" class="product-button cta-primary">üî• Ver promo√ß√µes</button>
            <a href="#products" class="product-button cta-secondary">Explorar produtos</a>
          </div> 
        </div>
      </div>
    </section>

    <section id="products" class="products-section">
      <h2 class="section-title">Nossos Produtos</h2>
      <div class="products-list"></div>
    </section>

  </main>

  <footer class="site-footer">
    <div class="footer-container">
      <p class="footer-store-name">XD STORE</p>
      <p class="footer-text">Itens digitais, entrega imediata via Discord</p>
      <p class="footer-legal">¬© 2026 XD STORE. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Carrinho lateral -->
  <div id="cart-overlay" class="cart-overlay"></div>
  <aside id="cart-sidebar" class="cart-sidebar">
    <div class="cart-header">
      <h3>Carrinho</h3>
      <button id="close-cart" class="close-cart">√ó</button>
    </div>
    <div class="cart-items"></div>
    <div class="cart-footer">
      <p>Total: <strong id="cart-total">R$ 0,00</strong></p>
      <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px;">
        <a href="pages/checkout.html" class="checkout-button" aria-label="Finalizar compra">Finalizar compra</a>
        <div style="display:flex;gap:8px;">
          <button class="clear-cart" aria-label="Limpar carrinho" style="background:#ff5555;color:#fff;border:none;padding:8px;border-radius:8px;">Limpar carrinho</button>
        </div>
      </div>
    </div>
</aside>

  <!-- Bot√£o de Suporte (Discord) -->
  <a href="https://discord.gg/3t7g9TbN5M" class="discord-support" target="_blank" rel="noopener noreferrer" aria-label="Suporte no Discord" title="Suporte no Discord (XD Store)">
    <img src="assets/images/discord.png" alt="Discord" width="20" height="20">
    <span>Suporte</span>
  </a>

  <script>
    // Robust theme toggle with wipe animation that applies the theme mid-animation.
    (function(){
      const btn = document.getElementById('theme-toggle');
      if (!btn) return;
      const DURATION = 1000; // ms (matches CSS)

      btn.addEventListener('click', (e)=>{
        // prevent other handlers to control timing and ensure visible animation
        e.stopImmediatePropagation();
        try{
          if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
            // fallback: simple toggle
            const cur = localStorage.getItem('xd-theme') || 'dark';
            const next = cur === 'dark' ? 'light' : 'dark';
            if (next === 'light') document.documentElement.setAttribute('data-theme','light'); else document.documentElement.removeAttribute('data-theme');
            localStorage.setItem('xd-theme', next);
            return;
          }

          // Determine next theme
          const cur = localStorage.getItem('xd-theme') || 'dark';
          const next = cur === 'dark' ? 'light' : 'dark';

          // create wipe overlay and set theme to match target
          const wipe = document.createElement('div');
          wipe.className = 'theme-wipe ' + (next === 'light' ? 'light' : 'dark');
          document.body.appendChild(wipe);

          // trigger animation
          // ensure micro animations run too
          document.documentElement.classList.add('theme-animating','with-transition');
          // start wipe
          // small timeout to ensure element is in the DOM
          setTimeout(()=> wipe.classList.add('active'), 10);

          // apply theme midway so user sees transition
          setTimeout(()=>{
            if (next === 'light') document.documentElement.setAttribute('data-theme','light'); else document.documentElement.removeAttribute('data-theme');
            localStorage.setItem('xd-theme', next);
          }, DURATION/2);

          // cleanup after animation
          setTimeout(()=>{
            wipe.classList.remove('active');
            setTimeout(()=>{ try{ wipe.remove(); }catch(e){} }, 220);
            document.documentElement.classList.remove('theme-animating');
            setTimeout(()=>{ document.documentElement.classList.remove('with-transition'); }, 120);
          }, DURATION + 80);

        }catch(e){ /* noop */ }
      });
    })();
  </script>

  <script type="module" src="js/ui.js"></script>
</body>
</html>
